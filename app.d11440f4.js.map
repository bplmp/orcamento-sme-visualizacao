{"version":3,"sources":["webpack:///./src/slides_configs.js","webpack:///./src/slides.js","webpack:///./src/data/text.json","webpack:///./src/data/categories.json","webpack:///./src/scroll.js","webpack:///./src/data/budget.json","webpack:///./src/treemap.js","webpack:///./src/index.js"],"names":["configs","duration","durationFast","this","durationSlow","__webpack_require__","d","__webpack_exports__","slides","d3","slidesConfigs","textData","categoriesData","defaultAnimation","slide","categories","opacity","select","selectAll","transition","style","cat_1","cat_2","forEach","category","s01","undefined","animation","s02","s03","s03_01","s03_02","s03_03","s04","s04_01","s04_02","s04_03","s04_04","s04_05","s04_06","s04_07","s05","s05_01","s05_02","s05_03","s06","s06_01","s06_02","s06_03","s06_04","s06_05","s07","s07_01","s07_02","s08","s08_01","s08_02","s09","s09_01","s10","s10_01","s10_02","s10_03","s10_04","Object","keys","key","index","slideText","paragraphs","text","slideMainCategoryText","cat_1_text","module","exports","orc-alimentacao","orc-funcionamento_unidades","orc-obras_reformas","orc-parcerias","orc-pessoal","orc-ti","orc-transferencias","orc-uniforme_materiais","orc-transporte","triggerSlides","reset","activeSlideId","id","element","bounds","slideIds","i","length","slideId","document","getElementById","getBoundingClientRect","top","window","innerHeight","bottom","setActiveSlide","onscroll","name","children","size","elementId","data","chartDiv","innerHTML","svg","append","width","clientWidth","height","clientHeight","color","scaleOrdinal","schemeCategory10","map","interpolateRgb","treemap","format","tile","treemapResquarify","round","paddingInner","root","hierarchy","eachBefore","parent","sum","sumBySize","sort","a","b","value","cell","leaves","enter","attr","x0","y0","x1","y1","on","timeout","stop","__WEBPACK_IMPORTED_MODULE_0__style_main_css__","numeral","n","register","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","currency","symbol","locale","defaultFormat","scroll","init","textParagraphs","create","slideCategories","slideValues","cat","slideRect","push","parseFloat","dataset","totalValue","reduce","valueHtml","html","querySelector","join","onload","addEventListener"],"mappings":"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","file":"app.d11440f4.js","sourcesContent":["export const configs = {\n  duration: 500,\n  durationFast: function () {\n    return this.duration / 2;\n  },\n  durationSlow: function () {\n    return this.duration * 2;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/slides_configs.js","const d3 = require('d3v4');\nconst slidesConfigs = require('./slides_configs').configs;\nconst textData = require('./data/text.json');\nconst categoriesData = require('./data/categories.json');\n\nfunction fadeIn(selector) {\n  d3.selectAll(selector)\n  .transition()\n  .duration(slidesConfigs.duration)\n  .style('opacity', 0.7)\n}\n\nfunction fadeAllOut() {\n  d3.select('#chart').selectAll('g')\n  .transition()\n  .duration(slidesConfigs.duration)\n  .style('opacity', 0.2)\n}\n\nfunction fadeGroup(categories, opacity) {\n  categories.forEach(function (category) {\n    d3.selectAll('#g-' + category)\n    .transition()\n    .duration(slidesConfigs.duration)\n    .style('opacity', opacity)\n  })\n}\n\nfunction defaultAnimation(slide) {\n  fadeAllOut()\n  if (slide.cat_1) {\n    d3.selectAll('.' + slide.cat_1)\n    .transition()\n    .duration(slidesConfigs.duration)\n    .style('opacity', 0.7)\n  }\n  if (slide.cat_2) {\n    fadeGroup(slide.cat_2, 1)\n  }\n}\n\nexport let slides = {\n  \"s01\": {\n    \"cat_1\": undefined,\n    \"cat_2\": undefined,\n    \"animation\": function () {\n      d3.selectAll('g')\n        .transition()\n        .duration(slidesConfigs.duration)\n        .style('opacity', 0)\n    },\n  },\n  \"s02\": {\n    \"cat_1\": undefined,\n    \"cat_2\": undefined,\n  },\n  \"s03\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": undefined,\n  },\n  \"s03_01\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-docentes\"],\n  },\n  \"s03_02\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-gestores\"],\n  },\n  \"s03_03\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-estagios\", \"orc-pessoal-outros\"],\n  },\n  \"s04\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": undefined,\n  },\n  \"s04_01\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\"orc-funcionamento_unidades-limpeza\"],\n  },\n  \"s04_02\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\"orc-funcionamento_unidades-vigilancia\"],\n  },\n  \"s04_03\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-agua_esgoto\",\n      \"orc-funcionamento_unidades-eletricidade\",\n      \"orc-funcionamento_unidades-telefone\",\n    ],\n  },\n  \"s04_04\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-obras_reformas\",\n    ],\n  },\n  \"s04_05\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-manutencao\",\n      \"orc-funcionamento_unidades-aluguel_imoveis\",\n    ],\n  },\n  \"s04_06\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-ceu_outros\",\n    ],\n  },\n  \"s04_07\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-eventos\",\n    ],\n  },\n  \"s05\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": undefined,\n  },\n  \"s05_01\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\"orc-parcerias-creches\"],\n  },\n  \"s05_02\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\"orc-parcerias-ed_especial\"],\n  },\n  \"s05_03\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\n      \"orc-parcerias-eja\",\n      \"orc-parcerias-outros\"\n    ],\n  },\n  \"s06\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": undefined,\n  },\n  \"s06_01\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-refeicoes\"],\n  },\n  \"s06_02\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-insumos\"],\n  },\n  \"s06_03\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-prep_dist\"],\n  },\n  \"s06_04\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-leve_leite\"],\n  },\n  \"s06_05\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-pnae\"],\n  },\n  \"s07\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": undefined,\n  },\n  \"s07_01\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": [\"orc-transporte-teg\"],\n  },\n  \"s07_02\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": [\"orc-transporte-veiculos\"],\n  },\n  \"s08\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": undefined,\n  },\n  \"s08_01\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": [\"orc-uniforme_materiais-uniforme\"],\n  },\n  \"s08_02\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": [\"orc-uniforme_materiais-materiais\"],\n  },\n  \"s09\": {\n    \"cat_1\": \"orc-transferencias\",\n    \"cat_2\": undefined,\n  },\n  \"s09_01\": {\n    \"cat_1\": \"orc-transferencias\",\n    \"cat_2\": [\"orc-transferencias-ptrf\"],\n  },\n  \"s10\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": undefined,\n  },\n  \"s10_01\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-compra_notebooks\"],\n  },\n  \"s10_02\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-manutencao_software_sistemas\", \"orc-ti-outros\"],\n  },\n  \"s10_03\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-internet\"],\n  },\n  \"s10_04\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-manutencao_equip_ti\"],\n  },\n}\n\nObject.keys(slides).forEach(function(key, index) {\n  let slide = slides[key]\n  // set default animation for those without\n  slide.animation ? true : slide.animation = function () { defaultAnimation(slide); }\n  // set text from json file\n  let slideText = textData.paragraphs[key]\n  slideText ? slide.text = slideText.text : slide.text = '&nbsp;'\n  let slideMainCategoryText = categoriesData[slide.cat_1]\n  slideMainCategoryText ? slide.cat_1_text = slideMainCategoryText.text : false\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/slides.js","module.exports = {\"paragraphs\":{\"s01\":{\"text\":\"Imagine que sua tela representa todo o orçamento da Secretaria de Educação.<br>&darr;\"},\"s02\":{\"text\":\"Agora, vamos começar a dividir a tela em partes, para mostrar como a Secretaria gasta seu orçamento.\"},\"s03\":{\"text\":\"Esta é a parte que corresponde ao gasto com pessoal, mais da metade de todo orçamento.\"},\"s03_01\":{\"text\":\"A maior parte dos gastos com pessoal são salários e benefícios dos professores, coordenadores e diretores.\"},\"s03_02\":{\"text\":\"O restante dos gastos são com gestores,\"},\"s03_03\":{\"text\":\"estagiários e outros pequenos custos.\"},\"s04\":{\"text\":\"Esta outra parte são os gastos com o funcionamento das escolas e de outros prédios da Secretaria.\"},\"s04_01\":{\"text\":\"O maior custo é com limpeza,\"},\"s04_02\":{\"text\":\"seguido por vigilância,\"},\"s04_03\":{\"text\":\"água e esgoto, luz, e telefone,\"},\"s04_04\":{\"text\":\"reformas e construções de novas unidades,\"},\"s04_05\":{\"text\":\"manutenção e aluguel de imóveis,\"},\"s04_06\":{\"text\":\"custos de manutenção dos CEUs, como guarda-vidas para as piscinas e operação dos auditórios,\"},\"s04_07\":{\"text\":\"e eventos como peças e teatro, apresentações nas escolas e oficinas de recreação.\"},\"s05\":{\"text\":\"Além de construir e manter seus próprios prédios, a Secretaria também faz parcerias com outras entidades para prover educação.\"},\"s05_01\":{\"text\":\"Sua maior parte é repassada para os Centros de Educação Infantil, também conhecidos como creches.\"},\"s05_02\":{\"text\":\"Outra parte é utilizada para a educação de pessoas com necessidades especiais.\"},\"s05_03\":{\"text\":\"E o restante com programas de Educação de Jovens e Adultos e outras parcerias.\"},\"s06\":{\"text\":\"Um outro grande custo da Secretaria é com a alimentação dos estudantes.\"},\"s06_01\":{\"text\":\"Boa parte é gasto com refeições compradas diretamente de fornecedores.\"},\"s06_02\":{\"text\":\"Mas a Secretaria também compra alimentos para produzir refeições,\"},\"s06_03\":{\"text\":\"e nesse caso precisa pagar também pelo seu preparo e distribuição.\"},\"s06_04\":{\"text\":\"O restante é gasto com o programa Leve-Leite, que entrega leite de graça para famílias de baixa renda com crianças pequenas,\"},\"s06_05\":{\"text\":\"e com repasse de verbas do Programa Nacional de Alimentação Escolar (PNAE) diretamente para as escolas.\"},\"s07\":{\"text\":\"Outra parte grande são os custos com transporte.\"},\"s07_01\":{\"text\":\"Sua grande maioria é gasta com o Transporte Escolar Gratuito (TEG), disponível quando a Secretaria não consegue matricular as crianças em até 2 km de distância da escola, ou em outros casos especiais.\"},\"s07_02\":{\"text\":\"O restante é utilizado com aluguel de veículos como ônibus de excursões e carros.\"},\"s08\":{\"text\":\"A Secretaria também tem custos com materiais para os estudantes,\"},\"s08_01\":{\"text\":\"como uniformes escolares\"},\"s08_02\":{\"text\":\"e outros materias didáticos.\"},\"s09\":{\"text\":\"A Secretaria repassa uma parte dos seus recursos diretamente para as unidades escolares.\"},\"s09_01\":{\"text\":\"Os repasses são feitos através de Associações de Pais e Mestres (APMs) e servem para descentralizar a administração e ampliar a autonomia das escolas.\"},\"s10\":{\"text\":\"A Educação também tem custos com tecnologia da informação (TI).\"},\"s10_01\":{\"text\":\"Em 2017, foi feita uma grande compra de notebooks para a Educação.\"},\"s10_02\":{\"text\":\"Os gastos com TI também incluem desenvolvimento, manutenção de softwares e sistemas,\"},\"s10_03\":{\"text\":\"fornecimento de internet para todas unidades escolares,\"},\"s10_04\":{\"text\":\"e supporte e assistência técnica para operação da TI.\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/text.json\n// module id = 7fyq\n// module chunks = 0","module.exports = {\"orc-alimentacao\":{\"text\":\"Alimentação\"},\"orc-funcionamento_unidades\":{\"text\":\"Funcionamento das unidades\"},\"orc-obras_reformas\":{\"text\":\"Obras e reformas\"},\"orc-parcerias\":{\"text\":\"Parcerias\"},\"orc-pessoal\":{\"text\":\"Pessoal\"},\"orc-ti\":{\"text\":\"TI\"},\"orc-transferencias\":{\"text\":\"Transferências\"},\"orc-uniforme_materiais\":{\"text\":\"Materiais\"},\"orc-transporte\":{\"text\":\"Transporte\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/categories.json\n// module id = K5PZ\n// module chunks = 0","const d3 = require('d3v4');\nconst slides = require('./slides').slides;\nconst slidesConfigs = require('./slides_configs').configs;\n\n// On every scroll event, check which element is on screen\nwindow.onscroll = function() {\n  triggerSlides(false)\n};\n\nexport function triggerSlides(reset) {\n  reset ? activeSlideId = undefined : false\n  var slideIds = Object.keys(slides);\n  for (var i = 0; i < slideIds.length; i++) {\n      var slideId = slideIds[i];\n      if (isElementOnScreen(slideId)) {\n          setActiveSlide(slideId);\n          break;\n      }\n  }\n}\n\nlet activeSlideId = 's01';\nfunction setActiveSlide(slideId) {\n    if (slideId === activeSlideId) return;\n\n    let slide = slides[slideId]\n\n    slide.animation ? slide.animation() : false\n\n    activeSlideId = slideId;\n}\n\nfunction isElementOnScreen(id) {\n    var element = document.getElementById(id);\n    var bounds = element.getBoundingClientRect();\n    return bounds.top < (window.innerHeight / 1) && bounds.bottom > 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroll.js","module.exports = {\"name\":\"orc\",\"children\":[{\"name\":\"alimentacao\",\"children\":[{\"name\":\"insumos\",\"size\":231123711.86},{\"name\":\"leve_leite\",\"size\":54456453.89},{\"name\":\"pnae\",\"size\":19721738},{\"name\":\"prep_dist\",\"size\":57732278.68},{\"name\":\"refeicoes\",\"size\":344783132.32}]},{\"name\":\"funcionamento_unidades\",\"children\":[{\"name\":\"agua_esgoto\",\"size\":107440314.11},{\"name\":\"aluguel_imoveis\",\"size\":19519948.28},{\"name\":\"ceu_outros\",\"size\":26983979.53},{\"name\":\"eletricidade\",\"size\":50882339.96},{\"name\":\"eventos\",\"size\":9126208.33},{\"name\":\"limpeza\",\"size\":424731067.12},{\"name\":\"logistica_transportes\",\"size\":5388738.2},{\"name\":\"manutencao\",\"size\":24463952.29},{\"name\":\"mobiliario\",\"size\":7332216.48},{\"name\":\"obras_reformas\",\"size\":78135386.56},{\"name\":\"telefone\",\"size\":6216973.48},{\"name\":\"uniceu\",\"size\":2870959.07},{\"name\":\"vigilancia\",\"size\":198547639.19}]},{\"name\":\"parcerias\",\"children\":[{\"name\":\"creches\",\"size\":1962607935.7},{\"name\":\"ed_especial\",\"size\":36601537.99},{\"name\":\"eja\",\"size\":10942761.36},{\"name\":\"outros\",\"size\":3635450.38}]},{\"name\":\"pedagogico\",\"children\":[{\"name\":\"formacao\",\"size\":3013278.69},{\"name\":\"mais_educacao\",\"size\":5499647.24}]},{\"name\":\"pessoal\",\"children\":[{\"name\":\"adiantamento\",\"size\":12202874},{\"name\":\"docentes\",\"size\":5872021815.26},{\"name\":\"estagios\",\"size\":36592521.92},{\"name\":\"gestores\",\"size\":343404844.62},{\"name\":\"outros\",\"size\":2179419.19}]},{\"name\":\"suporte_administrativo\",\"children\":[{\"name\":\"suporte_administrativo_outros\",\"size\":8294341.93}]},{\"name\":\"ti\",\"children\":[{\"name\":\"compra_notebooks\",\"size\":40021740},{\"name\":\"internet\",\"size\":15388038.39},{\"name\":\"manutencao_equip_ti\",\"size\":6459787.91},{\"name\":\"manutencao_software_sistemas\",\"size\":15273364.41},{\"name\":\"outros\",\"size\":7792897.88}]},{\"name\":\"transferencias\",\"children\":[{\"name\":\"ptrf\",\"size\":41846569.91}]},{\"name\":\"transporte\",\"children\":[{\"name\":\"teg\",\"size\":211016396.95},{\"name\":\"veiculos\",\"size\":17627189.21}]},{\"name\":\"uniforme_materiais\",\"children\":[{\"name\":\"materiais\",\"size\":55618096.42},{\"name\":\"uniforme\",\"size\":203651680.76}]}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/budget.json\n// module id = RdSv\n// module chunks = 0","const d3 = require('d3v4');\n\nexport function create(elementId, data) {\n  let chartDiv = document.getElementById(elementId);\n  chartDiv.innerHTML = '';\n  let svg = d3.select(chartDiv).append(\"svg\");\n  let width = chartDiv.clientWidth;\n  let height = chartDiv.clientHeight;\n\n  let fader = function(color) { return d3.interpolateRgb(color, \"#fff\")(0.2); },\n  color = d3.scaleOrdinal(d3.schemeCategory10.map(fader)),\n  format = d3.format(\",d\");\n\n  let treemap = d3.treemap()\n  .tile(d3.treemapResquarify)\n  .size([width, height])\n  .round(true)\n  // FIXME: padding here\n  .paddingInner(1);\n\n  let root = d3.hierarchy(data)\n  .eachBefore(function(d) { d.data.id = (d.parent ? d.parent.data.id + \"-\" : \"\") + d.data.name; })\n  .eachBefore(function(d) { d.data.parent = (d.parent ? d.parent.data.id : \"\"); })\n  .sum(sumBySize)\n  .sort(function(a, b) { return b.height - a.height || b.value - a.value; });\n\n  treemap(root);\n\n  let cell = svg.selectAll(\"g\")\n  .data(root.leaves())\n  .enter().append(\"g\")\n  .attr(\"id\", function(d) { return \"g-\" + d.data.id; })\n  .attr(\"class\", function(d) { return d.data.parent; })\n  .style(\"opacity\", 0)\n  .attr(\"transform\", function(d) { return \"translate(\" + d.x0 + \",\" + d.y0 + \")\"; });\n\n  cell.append(\"rect\")\n  .attr(\"id\", function(d) { return d.data.id; })\n  .attr(\"data-value\", function(d) { return d.value; })\n  .attr(\"width\", function(d) { return d.x1 - d.x0; })\n  .attr(\"height\", function(d) { return d.y1 - d.y0; })\n  .attr(\"stroke\", \"#fff\")\n  .attr(\"stroke-width\", 0)\n  .attr(\"fill\", function(d) { return color(d.parent.data.id); });\n\n  cell.append(\"clipPath\")\n  .attr(\"id\", function(d) { return \"clip-\" + d.data.id; })\n  .append(\"use\")\n  .attr(\"xlink:href\", function(d) { return \"#\" + d.data.id; });\n\n  // cell.append(\"text\")\n  // .attr(\"clip-path\", function(d) { return \"url(#clip-\" + d.data.id + \")\"; })\n  // .selectAll(\"tspan\")\n  // // .data(function(d) { return d.data.name.split(/(?=[A-Z][^A-Z])/g); })\n  // .data(function(d) { return String((d.value / 1000000).toFixed(2)).split(/(?=[A-Z][^A-Z])/g); })\n  // .enter().append(\"tspan\")\n  // .attr(\"x\", 4)\n  // .attr(\"y\", function(d, i) { return 13 + i * 10; })\n  // .text(function(d) { return d; });\n  //\n  // cell.append(\"title\")\n  // .text(function(d) { return d.data.id + \"\\n\" + format(d.value); });\n\n  d3.selectAll(\"input\")\n  .data([sumBySize, sumByCount], function(d) { return d ? d.name : this.value; })\n  .on(\"change\", changed);\n\n  // let timeout = d3.timeout(function() {\n  //   d3.select(\"input[value=\\\"sumByCount\\\"]\")\n  //       .property(\"checked\", true)\n  //       .dispatch(\"change\");\n  // }, 2000);\n\n  function changed(sum) {\n    timeout.stop();\n\n    treemap(root.sum(sum));\n\n    cell.transition()\n    .duration(750)\n    .attr(\"transform\", function(d) { return \"translate(\" + d.x0 + \",\" + d.y0 + \")\"; })\n    .select(\"rect\")\n    .attr(\"width\", function(d) { return d.x1 - d.x0; })\n    .attr(\"height\", function(d) { return d.y1 - d.y0; });\n  }\n\n  function sumByCount(d) {\n    return d.children ? 0 : 1;\n  }\n\n  function sumBySize(d) {\n    return d.size;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/treemap.js","const numeral = require('numeral');\nnumeral.register('locale', 'br', {\n    delimiters: {\n        thousands: '.',\n        decimal: ','\n    },\n    abbreviations: {\n        thousand: 'mil',\n        million: 'mi',\n        billion: 'bi',\n        trillion: 'tri'\n    },\n    currency: {\n        symbol: 'R$'\n    }\n});\nnumeral.locale('br');\nnumeral.defaultFormat('0,0.00');\n\nimport './style/main.css'\n\nconst slides = require('./slides').slides;\nconst data = require('./data/budget.json');\n\nconst scroll = require('./scroll');\nconst treemap = require('./treemap');\n\nfunction isMobile() {\n   if(window.devicePixelRatio > 1) {\n     return true;\n   } else {\n     return false;\n   }\n}\n\nwindow.onload = function() {\n  init()\n};\n\nfunction init() {\n  treemap.create(\"chart\", data)\n  setSlideText()\n  // trigger slides to begin\n  scroll.triggerSlides(true)\n}\n\nwindow.addEventListener(\"resize\", init);\n\nfunction setSlideText() {\n  let textParagraphs = [];\n  Object.keys(slides).forEach(function(key, index) {\n    let slide = slides[key]\n    let text = slide.text\n    let id = key\n    let slideCategories = slide.cat_2\n    let slideValues = []\n    if (slideCategories) {\n      slideCategories.forEach(function (cat) {\n        let slideRect = document.getElementById(cat)\n        let slideValue = slideRect ? slideValues.push(parseFloat(slideRect.dataset.value)) : false\n      })\n    }\n    let totalValue = slideValues.reduce((a, b) => a + b, 0)\n    totalValue = numeral(totalValue / 1000000).format()\n    let valueHtml = slideValues.length ? `<p>${totalValue} milhões</p>` : ''\n    // alternative: display all values\n    // if (slideCategories) {\n    //   slideCategories.forEach(function (cat) {\n    //     let slideRect = document.getElementById(cat)\n    //     let slideValue = slideRect ? numeral(parseFloat(slideRect.dataset.value) / 100000).format() : false\n    //     slideValues.push(slideValue)\n    //   })\n    // }\n    // let valueHtml = slideValues.length ? `<p>${slideValues.join(',&nbsp;&nbsp;')} milhões</p>` : ''\n    // let categoryText = slide.cat_1_text ? `<p class=\"text-category\">${slide.cat_1_text}</p>` : ''\n    // let html = `<div class=\"text-paragraph\" id=\"${id}\">${categoryText}<h1>${text}</h1>${valueHtml}</div>`\n    let html = `<div class=\"text-paragraph\" id=\"${id}\"><h1>${text}</h1>${valueHtml}</div>`\n    textParagraphs.push(html)\n  });\n\n  let textDiv = document.querySelector('#text')\n  textDiv.innerHTML = `${textParagraphs.join('')}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}