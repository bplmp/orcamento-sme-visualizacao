{"version":3,"sources":["webpack:///./src/slides_configs.js","webpack:///./src/slides.js","webpack:///./src/data/text.json","webpack:///./src/data/categories.json","webpack:///./src/scroll.js","webpack:///./src/data/budget.json","webpack:///./src/index.js"],"names":["configs","duration","durationFast","this","durationSlow","__webpack_require__","d","__webpack_exports__","slides","d3","slidesConfigs","textData","categoriesData","defaultAnimation","slide","categories","opacity","select","selectAll","transition","style","cat_1","cat_2","forEach","category","s01","undefined","animation","s02","s03","s03_01","s03_02","s03_03","s04","s04_01","s04_02","s04_03","s04_04","s04_05","s04_06","s04_07","s05","s05_01","s05_02","s05_03","s06","s06_01","s06_02","s06_03","s06_04","s06_05","s07","s07_01","s07_02","s08","s08_01","s08_02","s09","s09_01","s10","s10_01","s10_02","s10_03","Object","keys","key","index","slideText","paragraphs","text","slideMainCategoryText","cat_1_text","module","exports","orc-alimentacao","orc-funcionamento_unidades","orc-obras_reformas","orc-parcerias","orc-pessoal","orc-ti","orc-transferencias","orc-uniforme_materiais","orc-transporte","triggerSlides","reset","activeSlideId","id","element","bounds","slideIds","i","length","slideId","document","getElementById","getBoundingClientRect","top","window","innerHeight","bottom","setActiveSlide","onscroll","name","children","size","__WEBPACK_IMPORTED_MODULE_0__style_main_css__","n","numeral","register","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","currency","symbol","locale","defaultFormat","data","scroll","textDiv","querySelector","init","chartDiv","innerHTML","svg","append","width","clientWidth","height","clientHeight","color","scaleOrdinal","schemeCategory10","map","interpolateRgb","treemap","format","tile","treemapResquarify","round","paddingInner","root","hierarchy","eachBefore","parent","sum","sumBySize","sort","a","b","value","textParagraphs","cell","leaves","enter","attr","x0","y0","x1","y1","on","timeout","stop","slideCategories","slideValues","cat","slideRect","push","parseFloat","dataset","totalValue","reduce","valueHtml","html","join","onload","addEventListener"],"mappings":"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","file":"app.a2637a65.js","sourcesContent":["export const configs = {\n  duration: 500,\n  durationFast: function () {\n    return this.duration / 2;\n  },\n  durationSlow: function () {\n    return this.duration * 2;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/slides_configs.js","const d3 = require('d3v4');\nconst slidesConfigs = require('./slides_configs').configs;\nconst textData = require('./data/text.json');\nconst categoriesData = require('./data/categories.json');\n\nfunction fadeIn(selector) {\n  d3.selectAll(selector)\n  .transition()\n  .duration(slidesConfigs.duration)\n  .style('opacity', 0.7)\n}\n\nfunction fadeAllOut() {\n  d3.select('#chart').selectAll('g')\n  .transition()\n  .duration(slidesConfigs.duration)\n  .style('opacity', 0.2)\n}\n\nfunction fadeGroup(categories, opacity) {\n  categories.forEach(function (category) {\n    d3.selectAll('#g-' + category)\n    .transition()\n    .duration(slidesConfigs.duration)\n    .style('opacity', opacity)\n  })\n}\n\nfunction defaultAnimation(slide) {\n  fadeAllOut()\n  if (slide.cat_1) {\n    d3.selectAll('.' + slide.cat_1)\n    .transition()\n    .duration(slidesConfigs.duration)\n    .style('opacity', 0.7)\n  }\n  if (slide.cat_2) {\n    fadeGroup(slide.cat_2, 1)\n  }\n}\n\nexport let slides = {\n  \"s01\": {\n    \"cat_1\": undefined,\n    \"cat_2\": undefined,\n    \"animation\": function () {\n      d3.selectAll('g')\n        .transition()\n        .duration(slidesConfigs.duration)\n        .style('opacity', 0)\n    },\n  },\n  \"s02\": {\n    \"cat_1\": undefined,\n    \"cat_2\": undefined,\n  },\n  \"s03\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": undefined,\n  },\n  \"s03_01\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-docentes\"],\n  },\n  \"s03_02\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-gestores\"],\n  },\n  \"s03_03\": {\n    \"cat_1\": \"orc-pessoal\",\n    \"cat_2\": [\"orc-pessoal-estagios\", \"orc-pessoal-outros\"],\n  },\n  \"s04\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": undefined,\n  },\n  \"s04_01\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\"orc-funcionamento_unidades-limpeza\"],\n  },\n  \"s04_02\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\"orc-funcionamento_unidades-vigilancia\"],\n  },\n  \"s04_03\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-agua_esgoto\",\n      \"orc-funcionamento_unidades-eletricidade\",\n      \"orc-funcionamento_unidades-telefone\",\n    ],\n  },\n  \"s04_04\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-obras_reformas\",\n    ],\n  },\n  \"s04_05\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-manutencao\",\n      \"orc-funcionamento_unidades-aluguel_imoveis\",\n    ],\n  },\n  \"s04_06\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-ceu_outros\",\n    ],\n  },\n  \"s04_07\": {\n    \"cat_1\": \"orc-funcionamento_unidades\",\n    \"cat_2\": [\n      \"orc-funcionamento_unidades-eventos\",\n    ],\n  },\n  \"s05\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": undefined,\n  },\n  \"s05_01\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\"orc-parcerias-creches\"],\n  },\n  \"s05_02\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\"orc-parcerias-ed_especial\"],\n  },\n  \"s05_03\": {\n    \"cat_1\": \"orc-parcerias\",\n    \"cat_2\": [\n      \"orc-parcerias-eja\",\n      \"orc-parcerias-outros\"\n    ],\n  },\n  \"s06\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": undefined,\n  },\n  \"s06_01\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-refeicoes\"],\n  },\n  \"s06_02\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-insumos\"],\n  },\n  \"s06_03\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-prep_dist\"],\n  },\n  \"s06_04\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-leve_leite\"],\n  },\n  \"s06_05\": {\n    \"cat_1\": \"orc-alimentacao\",\n    \"cat_2\": [\"orc-alimentacao-pnae\"],\n  },\n  \"s07\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": undefined,\n  },\n  \"s07_01\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": [\"orc-transporte-teg\"],\n  },\n  \"s07_02\": {\n    \"cat_1\": \"orc-transporte\",\n    \"cat_2\": [\"orc-transporte-veiculos\"],\n  },\n  \"s08\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": undefined,\n  },\n  \"s08_01\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": [\"orc-uniforme_materiais-uniforme\"],\n  },\n  \"s08_02\": {\n    \"cat_1\": \"orc-uniforme_materiais\",\n    \"cat_2\": [\"orc-uniforme_materiais-materiais\"],\n  },\n  \"s09\": {\n    \"cat_1\": \"orc-transferencias\",\n    \"cat_2\": undefined,\n  },\n  \"s09_01\": {\n    \"cat_1\": \"orc-transferencias\",\n    \"cat_2\": [\"orc-transferencias-ptrf\"],\n  },\n  \"s10\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": undefined,\n  },\n  \"s10_01\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-prodam\", \"orc-ti-outros\"],\n  },\n  \"s10_02\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-internet\"],\n  },\n  \"s10_03\": {\n    \"cat_1\": \"orc-ti\",\n    \"cat_2\": [\"orc-ti-manutencao_equip_ti\"],\n  },\n}\n\nObject.keys(slides).forEach(function(key, index) {\n  let slide = slides[key]\n  // set default animation for those without\n  slide.animation ? true : slide.animation = function () { defaultAnimation(slide); }\n  // set text from json file\n  let slideText = textData.paragraphs[key]\n  slideText ? slide.text = slideText.text : slide.text = '&nbsp;'\n  let slideMainCategoryText = categoriesData[slide.cat_1]\n  slideMainCategoryText ? slide.cat_1_text = slideMainCategoryText.text : false\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/slides.js","module.exports = {\"paragraphs\":{\"s01\":{\"text\":\"Imagine que sua tela representa todo o orçamento da Secretaria de Educação.\"},\"s02\":{\"text\":\"Agora, vamos começar a dividir a tela em partes, para mostrar como a Secretaria gasta seu orçamento.\"},\"s03\":{\"text\":\"Esta é a parte que corresponde ao gasto com pessoal, mais da metade de todo orçamento.\"},\"s03_01\":{\"text\":\"A maior parte dos gastos com pessoal são salários e benefícios dos professores.\"},\"s03_02\":{\"text\":\"O restante dos gastos são com gestores,\"},\"s03_03\":{\"text\":\"estagiários e outros pequenos custos.\"},\"s04\":{\"text\":\"Esta outra parte são os gastos com o funcionamento das escolas e de outros prédios da Secretaria.\"},\"s04_01\":{\"text\":\"O maior custo é com limpeza,\"},\"s04_02\":{\"text\":\"seguido por vigilância,\"},\"s04_03\":{\"text\":\"água e esgoto, luz, e telefone,\"},\"s04_04\":{\"text\":\"reformas e construções de novas unidades,\"},\"s04_05\":{\"text\":\"manutenção e aluguel de imóveis,\"},\"s04_06\":{\"text\":\"custos de manutenção dos CEUs, como guarda-vidas para as piscinas e operação dos auditórios,\"},\"s04_07\":{\"text\":\"e eventos como peças e teatro e apresentações nas escolas.\"},\"s05\":{\"text\":\"Além de construir e manter seus próprios prédios, a Secretaria também faz parcerias com outras entidades para prover educação.\"},\"s05_01\":{\"text\":\"Sua maior parte é repassada para os Centros de Educação Infantil, também conhecidos como creches.\"},\"s05_02\":{\"text\":\"Outra parte é utilizada para a educação de pessoas com necessidades especiais.\"},\"s05_03\":{\"text\":\"E o restante com programas de Educação de Jovens e Adultos e outras parcerias.\"},\"s06\":{\"text\":\"Um outro grande custo da Secretaria é com a alimentação dos estudantes.\"},\"s06_01\":{\"text\":\"Boa parte é gasto com refeições compradas diretamente de fornecedores.\"},\"s06_02\":{\"text\":\"Mas a Secretaria também compra alimentos para produzir refeições,\"},\"s06_03\":{\"text\":\"e nesse caso precisa pagar também pelo seu preparo e distribuição.\"},\"s06_04\":{\"text\":\"O restante é gasto com o programa Leve-Leite, que entrega leite de graça para famílias de baixa renda com crianças pequenas,\"},\"s06_05\":{\"text\":\"e com repasse de verbas do Programa Nacional de Alimentação Escolar (PNAE) diretamente para as escolas.\"},\"s07\":{\"text\":\"Outra parte grande são os custos com transporte.\"},\"s07_01\":{\"text\":\"Sua grande maioria é gasta com o Transporte Escolar Gratuito (TEG), disponível quando a Secretaria não consegue matricular as crianças em até 2 km de distância da escola, ou em outros casos especiais.\"},\"s07_02\":{\"text\":\"O restante é utilizado com aluguel de veículos como ônibus de excursões e carros.\"},\"s08\":{\"text\":\"A Secretaria também tem custos com materiais para os estudentes,\"},\"s08_01\":{\"text\":\"como uniformes escolares...\"},\"s08_02\":{\"text\":\"e outros materias didáticos.\"},\"s09\":{\"text\":\"A Secretaria também repassa uma parte dos seus recursos diretamente para as unidades escolares.\"},\"s09_01\":{\"text\":\"Os repasses são feitos através de Associações de Pais e Mestres (APMs) e servem para descentralizar a administração e ampliar a autonomia das escolas.\"},\"s10\":{\"text\":\"A Educação também tem custos com tecnologia da informação (TI).\"},\"s10_01\":{\"text\":\"Esses incluem gastos com desenvolvimento, manutenção de softwares e sistemas,\"},\"s10_02\":{\"text\":\"fornecimento de internet para todas unidades escolares,\"},\"s10_03\":{\"text\":\"e manutenção de equipamentos de TI, como servidores e centros de dados.\"}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/text.json\n// module id = 7fyq\n// module chunks = 1","module.exports = {\"orc-alimentacao\":{\"text\":\"Alimentação\"},\"orc-funcionamento_unidades\":{\"text\":\"Funcionamento das unidades\"},\"orc-obras_reformas\":{\"text\":\"Obras e reformas\"},\"orc-parcerias\":{\"text\":\"Parcerias\"},\"orc-pessoal\":{\"text\":\"Pessoal\"},\"orc-ti\":{\"text\":\"TI\"},\"orc-transferencias\":{\"text\":\"Transferências\"},\"orc-uniforme_materiais\":{\"text\":\"Materiais\"},\"orc-transporte\":{\"text\":\"Transporte\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/categories.json\n// module id = K5PZ\n// module chunks = 1","const d3 = require('d3v4');\nconst slides = require('./slides').slides;\nconst slidesConfigs = require('./slides_configs').configs;\n\n// On every scroll event, check which element is on screen\nwindow.onscroll = function() {\n  triggerSlides(false)\n};\n\nexport function triggerSlides(reset) {\n  reset ? activeSlideId = undefined : false\n  var slideIds = Object.keys(slides);\n  for (var i = 0; i < slideIds.length; i++) {\n      var slideId = slideIds[i];\n      if (isElementOnScreen(slideId)) {\n          setActiveSlide(slideId);\n          break;\n      }\n  }\n}\n\nlet activeSlideId = 's01';\nfunction setActiveSlide(slideId) {\n    if (slideId === activeSlideId) return;\n\n    let slide = slides[slideId]\n\n    slide.animation ? slide.animation() : false\n\n    activeSlideId = slideId;\n}\n\nfunction isElementOnScreen(id) {\n    var element = document.getElementById(id);\n    var bounds = element.getBoundingClientRect();\n    return bounds.top < (window.innerHeight / 1) && bounds.bottom > 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroll.js","module.exports = {\"name\":\"orc\",\"children\":[{\"name\":\"alimentacao\",\"children\":[{\"name\":\"insumos\",\"size\":194498042.16},{\"name\":\"leve_leite\",\"size\":50826933.02},{\"name\":\"pnae\",\"size\":19871110},{\"name\":\"prep_dist\",\"size\":52905599.38},{\"name\":\"refeicoes\",\"size\":328161844.67}]},{\"name\":\"funcionamento_unidades\",\"children\":[{\"name\":\"agua_esgoto\",\"size\":93020801.3},{\"name\":\"aluguel_imoveis\",\"size\":17577437.31},{\"name\":\"ceu_outros\",\"size\":25619075.73},{\"name\":\"eletricidade\",\"size\":44973126.74},{\"name\":\"eventos\",\"size\":6497739.28},{\"name\":\"limpeza\",\"size\":406884941.54},{\"name\":\"manutencao\",\"size\":17065857.04},{\"name\":\"mobiliario\",\"size\":11702},{\"name\":\"obras_reformas\",\"size\":58263296.13},{\"name\":\"telefone\",\"size\":5298664.84},{\"name\":\"vigilancia\",\"size\":181857045.36}]},{\"name\":\"parcerias\",\"children\":[{\"name\":\"creches\",\"size\":1954064406.19},{\"name\":\"ed_especial\",\"size\":36483656.53},{\"name\":\"eja\",\"size\":10687166.22},{\"name\":\"outros\",\"size\":3005697.93}]},{\"name\":\"pessoal\",\"children\":[{\"name\":\"docentes\",\"size\":5872021815.26},{\"name\":\"estagios\",\"size\":33448144.67},{\"name\":\"gestores\",\"size\":343097216.08},{\"name\":\"outros\",\"size\":2179419.19}]},{\"name\":\"suporte_administrativo\",\"children\":[{\"name\":\"suporte_administrativo_outros\",\"size\":5898537.07}]},{\"name\":\"ti\",\"children\":[{\"name\":\"internet\",\"size\":11271799.47},{\"name\":\"manutencao\",\"size\":983507.52},{\"name\":\"manutencao_equip_ti\",\"size\":5937810.78},{\"name\":\"outros\",\"size\":12879808.14},{\"name\":\"prodam\",\"size\":9824413.64}]},{\"name\":\"transferencias\",\"children\":[{\"name\":\"ptrf\",\"size\":41846569.91}]},{\"name\":\"transporte\",\"children\":[{\"name\":\"teg\",\"size\":194491392.92},{\"name\":\"veiculos\",\"size\":15920269.5}]},{\"name\":\"uniforme_materiais\",\"children\":[{\"name\":\"materiais\",\"size\":26113731.88},{\"name\":\"uniforme\",\"size\":101825344.25}]}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/budget.json\n// module id = RdSv\n// module chunks = 1","const d3 = require('d3v4');\nconst numeral = require('numeral');\nnumeral.register('locale', 'br', {\n    delimiters: {\n        thousands: '.',\n        decimal: ','\n    },\n    abbreviations: {\n        thousand: 'mil',\n        million: 'mi',\n        billion: 'bi',\n        trillion: 'tri'\n    },\n    currency: {\n        symbol: 'R$'\n    }\n});\nnumeral.locale('br');\nnumeral.defaultFormat('0,0.00');\n\nimport './style/main.css'\nconst slides = require('./slides').slides;\nconst data = require('./data/budget.json');\n\nconst scroll = require('./scroll');\n\nlet svgDiv = document.querySelector('#svg')\nlet textDiv = document.querySelector('#text')\n\nsvg.innerHTML = `<svg id=\"chart\" class=\"treemap\" width=\"100%\" height=\"100%\"></svg>`\n\nfunction isMobile() {\n   if(window.devicePixelRatio > 1) {\n     return true;\n   } else {\n     return false;\n   }\n}\n\nwindow.onload = function() {\n  init()\n};\n\nfunction init() {\n  var chartDiv = document.getElementById(\"chart\");\n  chartDiv.innerHTML = '';\n  var svg = d3.select(chartDiv).append(\"svg\");\n  var width = chartDiv.clientWidth;\n  var height = chartDiv.clientHeight;\n\n  var fader = function(color) { return d3.interpolateRgb(color, \"#fff\")(0.2); },\n  color = d3.scaleOrdinal(d3.schemeCategory10.map(fader)),\n  format = d3.format(\",d\");\n\n  var treemap = d3.treemap()\n  .tile(d3.treemapResquarify)\n  .size([width, height])\n  .round(true)\n  // FIXME: padding here\n  .paddingInner(1);\n\n  var root = d3.hierarchy(data)\n  .eachBefore(function(d) { d.data.id = (d.parent ? d.parent.data.id + \"-\" : \"\") + d.data.name; })\n  .eachBefore(function(d) { d.data.parent = (d.parent ? d.parent.data.id : \"\"); })\n  .sum(sumBySize)\n  .sort(function(a, b) { return b.height - a.height || b.value - a.value; });\n\n  treemap(root);\n\n  var cell = svg.selectAll(\"g\")\n  .data(root.leaves())\n  .enter().append(\"g\")\n  .attr(\"id\", function(d) { return \"g-\" + d.data.id; })\n  .attr(\"class\", function(d) { return d.data.parent; })\n  .style(\"opacity\", 0)\n  .attr(\"transform\", function(d) { return \"translate(\" + d.x0 + \",\" + d.y0 + \")\"; });\n\n  cell.append(\"rect\")\n  .attr(\"id\", function(d) { return d.data.id; })\n  .attr(\"data-value\", function(d) { return d.value; })\n  .attr(\"width\", function(d) { return d.x1 - d.x0; })\n  .attr(\"height\", function(d) { return d.y1 - d.y0; })\n  .attr(\"stroke\", \"#fff\")\n  .attr(\"stroke-width\", 0)\n  .attr(\"fill\", function(d) { return color(d.parent.data.id); });\n\n  cell.append(\"clipPath\")\n  .attr(\"id\", function(d) { return \"clip-\" + d.data.id; })\n  .append(\"use\")\n  .attr(\"xlink:href\", function(d) { return \"#\" + d.data.id; });\n\n  // cell.append(\"text\")\n  // .attr(\"clip-path\", function(d) { return \"url(#clip-\" + d.data.id + \")\"; })\n  // .selectAll(\"tspan\")\n  // // .data(function(d) { return d.data.name.split(/(?=[A-Z][^A-Z])/g); })\n  // .data(function(d) { return String((d.value / 1000000).toFixed(2)).split(/(?=[A-Z][^A-Z])/g); })\n  // .enter().append(\"tspan\")\n  // .attr(\"x\", 4)\n  // .attr(\"y\", function(d, i) { return 13 + i * 10; })\n  // .text(function(d) { return d; });\n  //\n  // cell.append(\"title\")\n  // .text(function(d) { return d.data.id + \"\\n\" + format(d.value); });\n\n  d3.selectAll(\"input\")\n  .data([sumBySize, sumByCount], function(d) { return d ? d.name : this.value; })\n  .on(\"change\", changed);\n\n  // var timeout = d3.timeout(function() {\n  //   d3.select(\"input[value=\\\"sumByCount\\\"]\")\n  //       .property(\"checked\", true)\n  //       .dispatch(\"change\");\n  // }, 2000);\n\n  function changed(sum) {\n    timeout.stop();\n\n    treemap(root.sum(sum));\n\n    cell.transition()\n    .duration(750)\n    .attr(\"transform\", function(d) { return \"translate(\" + d.x0 + \",\" + d.y0 + \")\"; })\n    .select(\"rect\")\n    .attr(\"width\", function(d) { return d.x1 - d.x0; })\n    .attr(\"height\", function(d) { return d.y1 - d.y0; });\n  }\n\n  function sumByCount(d) {\n    return d.children ? 0 : 1;\n  }\n\n  function sumBySize(d) {\n    return d.size;\n  }\n\n  setSlideText()\n\n  scroll.triggerSlides(true)\n}\n\nwindow.addEventListener(\"resize\", init);\n\nfunction setSlideText() {\n  let textParagraphs = [];\n  Object.keys(slides).forEach(function(key, index) {\n    let slide = slides[key]\n    let text = slide.text\n    let id = key\n    let slideCategories = slide.cat_2\n    let slideValues = []\n    if (slideCategories) {\n      slideCategories.forEach(function (cat) {\n        let slideRect = document.getElementById(cat)\n        let slideValue = slideRect ? slideValues.push(parseFloat(slideRect.dataset.value)) : false\n      })\n    }\n    let totalValue = slideValues.reduce((a, b) => a + b, 0)\n    totalValue = numeral(totalValue / 1000000).format()\n    let valueHtml = slideValues.length ? `<p>${totalValue} milhões</p>` : ''\n    // alternative: display all values\n    // if (slideCategories) {\n    //   slideCategories.forEach(function (cat) {\n    //     let slideRect = document.getElementById(cat)\n    //     let slideValue = slideRect ? numeral(parseFloat(slideRect.dataset.value) / 100000).format() : false\n    //     slideValues.push(slideValue)\n    //   })\n    // }\n    // let valueHtml = slideValues.length ? `<p>${slideValues.join(',&nbsp;&nbsp;')} milhões</p>` : ''\n    // let categoryText = slide.cat_1_text ? `<p class=\"text-category\">${slide.cat_1_text}</p>` : ''\n    // let html = `<div class=\"text-paragraph\" id=\"${id}\">${categoryText}<h1>${text}</h1>${valueHtml}</div>`\n    let html = `<div class=\"text-paragraph\" id=\"${id}\"><h1>${text}</h1>${valueHtml}</div>`\n    textParagraphs.push(html)\n  });\n\n  textDiv.innerHTML = `${textParagraphs.join('')}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}